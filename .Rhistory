par(mfrow=c(1,3),mar=c(4, 4, 2, 1), oma = c(0, 0, 2, 0))
plot(airquality$Wind, airquality$Ozone, main = "Ozone and Wind")
plot(airquality$Ozone,airquality$Solar.R, main = "Ozone and Solar Radiation")
plot(airquality$Solar.R, airquality$Ozone, main = "Ozone and Solar Radiation")
plot(airquality$Temp,airquality$Ozone,main= "Ozone and Temperature")
mtext("Ozone and Weather in New York City",outer=TRUE)
swirl()
exit
quit
logout
exit
quit
getwd()
setwd("C:/Users/Isabel/gitrepos/ExData_Plotting1")
source('C:/Users/Isabel/gitrepos/ExData_Plotting1/plot4.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Plotting1/plot4.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Plotting1/plot1.R', echo=TRUE)
library(swirl)
swirl()
dist(dataFrame)
hclust(distxy)
hc <- hclust(distxy)
plot(hc)
plot(as.dendrogram(hc))
abline(h=1.5,col="blue")
abline(h=.4,col="red")
5
abline(h=.05,col="red")
12
abline(h=.05,col="green")
dist(dFsm)
hc
heatmap(dataMatrix,col=cm.colors(25))
heatmap(mt)
mt
plot(denmt)
distmt
cmat
points(cx,cy,col=c("red","orange","purple"),pch=3,cex=2,lwd=2)
mdist(x,y,cx,cy)
apply(distTmp,2,which.min)
points(x,y,pch=19,cex=2,col=cols1[newClust])
tapply(x,newClust,mean)
tapply(y,newClust,mean)
points(newCx,newCy,pch=8,cex=2,col=cols1)
points(newCx,newCy,col=cols1,pch=8,cex=2,lwd=2)
mdist(x,y,newCx,newCy)
apply(distTmp2,2,wich.min)
apply(distTmp2,2,which.min)
points(x,y,pch=19,cex=2,col=cols1[newClust2])
tapply(x,newClust2,mean)
tapply(y,newClust2,mean)
points(finalCx,finalCy,col=cols1,pch=9,cex=2,lwd=2)
kmeans(dataFrame,centers=3)
kmObj$iter
plot(x,y,col= kmObj$cluster,pch=19,cex=2)
points(kmObj$centers,col=c("black","red","green"),pch=3,cex=3,lwd=3)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
plot(x,y,col=kmeans(dataFrame,6)$cluster,pch=19,cex=2)
head(dataMatrix)
heatmap(dataMatrix)
myedit("addPatt.R" )
source("addPatt.R",equal=TRUE)
source("addPatt.R",loca=TRUE)
heatmap(dataMatrix)
mat
svd(mat)
matu %*% diag  %*% t(matv)
svd(scale(mat))
prcomp(scale(mat))
svd1$v[,1]
svd1$d
head(constantMatrix)
svd2$d
svd2[,1-2]
svd2[,2]
svd2[,1:2]
svd2$v[,1:2]
svd2$d
dim(faceData    )
a1<-(svd1$u[,1]*svd1$d[1])%*%t(svd1$v[1])
a1<-(svd1$u[,1]*svd1$d[1])%*%t(svd1$v[,1])
myImage(a1)
a2<-svd1$u[,1:2]%*%svd1$d[1:2])%*%t(svd1$v[,1:2])
a2<-svd1$u[,1:2]%*%svd1$d[1:2]%*%t(svd1$v[,1:2])
a2<-svd1$u[,1:2] %*% diag(svd1$d[1:2]) %*% t(svd1$v[,1:2])
image(a2)
myImage(a2)
myImage(svd1$u[,1:5] %*% diag(svd1$d[1:5]) %*% t(svd1$v[,1:5])
)
myImage(svd1$u[,1:10] %*% diag(svd1$d[1:10]) %*% t(svd1$v[,1:10])
)
dim(ssd)
names(ssd[562:563])
table(ssd$subject)
sum(table(ssd$subject)))
sum(table(ssd$subject))
table(ssd$activity)
sub1<-subset(ssd,subject==1)
dim(sub1)
names(sub1[1:12])
myedit("showXY.R")
showMe(1:6)
mdist(sub1[,1:3])
dist(sub1[,1:3])
mdist <- dist(sub1[,1:3])
hclustering<-hclust(mdist)
myplclust(hclustering,lab.col=unclass(sub1$activity))
mdist<-dist(sub1[,10:12])
hclustering<-hclust(mdist)
myplclust(hclustering,lab.col=unclass(sub1$activity))
svd1<-svd(scale(sub1[,-c(562,563)]))
dim(svd1$u)
maxCon<-which.max(svd1$v)
maxCon<-which.max(which.max(svd1$v[,2]))
maxCon <- which.max(svd1$v[,2])
mdist<-dist(concat(sub1[,10:12],maxCon))
mdist <- dist(sub1[,c(10:12,maxCon)])
hclustering<-hclust(mdist)
myplclust(hclustering,lab.col= unclass(sub1$activity))
names(sub1[maxCon])
kClust<-kmeans((sub1[, -c(562, 563)],centers=6)
kClust <- kmeans(sub1[, -c(562, 563)], centers = 6)
table(kClust$cluster,sub1$activity)
kClust <- kmeans(sub1[, -c(562, 563)], centers = 6,nstart=100)
table(kClust$cluster,sub1$activity)
dim(kClust$centers)
laying<-which(kClust$size==29)
plot(kClust$centers[laying,1:12],pch=19,ylab="Laying Cluster")
names(sub1[,1:3])
walkdown<-which(kClust$size==49)
plot(kClust$centers[walkdown,1:12],pch=19,ylab="Walkdown Cluster")
?%in%
??%in%
quit
?%in%
swirl()
dim(pm0)
head(pm0)
cnames
cnames<-strsplit(cnames,'|',na.rm=TRUE)
cnames<-strsplit(cnames,'|',fixed=TRUE)
cnames
names(pm0)<-make.names(cnames[[1]][wcol])
head(pm0)
x0<-pm0$Sample.Value
str(x0)
mean(is.na(x0))
names(pm1)<-make.names(cnames[[1]][wcol])
dim(pm1)
x1<-pm1$Sample.Value
mean(is.na(x1))
summary(x0)
summary(x1)
boxplot(x0,x1)
boxplot(log10(x0),log10(x1))
negative<-x1<0
sum(negative,na.rm=TRUE)
mean(sum(negative,na.rm=TRUE))
mean(negative, na.rm = TRUE)
dates<-pm1$Date
str(dates)
dates<-as.character(dates,"%Y%m%d")
dates <- as.Date(as.character(dates), "%Y%m%d")
head(dates)
hist(dates,"month")
hist(dates[negative],"month")
str(site0)
both<-intersect(site0,site1)
both
head(pm0)
cnt0<-subset(pm0,state.Code==36&county.site %in% both)
cnt0<-subset(pm0,County.Code==36&county.site %in% both)
cnt0 <- subset(pm0, State.Code == 36 & county.site %in% both)
cnt1 <- subset(pm1, State.Code == 36 & county.site %in% both)
sapply(split(cnt0, cnt0$county.site), nrow)
sapply(split(cnt1, cnt1$county.site), nrow)
pm0sub<-subset(cnt0,County.Code==63&Site.ID==2008)
pm1sub<-subset(cnt1,County.Code==63&Site.ID==2008)
x0sub<-pm0sub$Sample.Value
x1sub<-pm1sub$Sample.Value
dates0<-as.Date(as.character(pm0sub$Date),"%Y%m%d")
dates1<-as.Date(as.character(pm1sub$Date),"%Y%m%d")
par(mfrow=c(1,2))
par(mfrow=c(1,2),mar=c(4,4,2,1))
plot(dates0,x0sub,pch=20)
abline(h=median(x0sub,na.rm=T),lwd=2)
abline(h = median(x0sub, na.rm = TRUE),lwd=2)
plot(dates,x1sub,pch=20)
plot(dates1,x1sub,pch=20)
abline(h = median(x1sub, na.rm = TRUE),lwd=2)
rng<-range(x0sub,x1sub,na.rm=TRUE)
rng
mn0<-(pm0,tapply(Sample.Value,State.Code,mean,na.rm=TRUE))
mn0<-with(pm0,tapply(Sample.Value,State.Code,mean,na.rm=TRUE))
str(mn0)
mn1<-with(pm1,tapply(Sample.Value,State.Code,mean,na.rm=TRUE))
str(mn1)
summary(mn0)
summary(mn1)
d0<-data.frame(state=names(mn0),mean(mn0))
d0 <- data.frame(state = names(mn0), mean = mn0)
d1 <- data.frame(state = names(mn1), mean = mn1)
mrg<-merge(d0,d1,by="state")
dim(mrg)
head(mrg)
with(mrg, plot(rep(1, 52), mrg[, 2], xlim = c(.5, 2.5)))
with(mrg, points(rep(2, 52), mrg[, 3]))
segments(rep(1, 52), mrg[, 2], rep(2, 52), mrg[, 3])
mrg[mrg$mean.x < mrg$mean.y, ]
logout
exit
logoff
exit
setwd("C:/Users/Isabel/gitrepos/ExData_Project2")
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot4.R', echo=TRUE)
dev.off()
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot4.R', echo=TRUE)
qplot(year,
Emissions,
data=Totals,
color=type,
geom=c("point", "line"))
+ stat_summary(fun.y = "sum",
# fun.ymin = "sum",
#fun.ymax = "sum",
color = "purple",
aes(shape="total"),
geom= "line")
+ geom_line(aes(size="total", shape = NA))
qplot(year,
Emissions,
data=Totals,
color=type,
geom=c("point", "line"))
+ stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "purple",
aes(shape="total"),
geom= "line")
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line")
+ stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "purple",
aes(shape="total"),
geom= "line")
+ geom_line(aes(size="total", shape = NA))
Totals <- aggregate(Emissions ~ year + type,
Totalcoal, sum)
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line")
+ stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "purple",
aes(shape="total"),
geom= "line")
Totals
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line")
+ stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "purple",
aes(shape="total"),
geom= "line")
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line") +
stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "black",
aes(shape="total"),
geom="line") +
geom_line(aes(size="total", shape = NA)) +
ggtitle(expression("Coal Combustion" ~ PM[2.5] ~ "Emissions by Source Type and Year")) +
xlab("Year") +
ylab(expression("Total" ~ PM[2.5] ~ "Emissions (tons)"))
png("plot4.png", width=640, height=480)
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line") +
stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "black",
aes(shape="total"),
geom="line") +
geom_line(aes(size="total", shape = NA)) +
ggtitle(expression("Coal Combustion" ~ PM[2.5] ~ "Emissions by Source Type and Year")) +
xlab("Year") +
ylab(expression("Total" ~ PM[2.5] ~ "Emissions (tons)"))
dev.off()
dev.off()
png("plot4.png", width=640, height=480)
qplot(as.factor(year),
Emissions,
data=Totals,
color=type,
geom="line") +
stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "black",
aes(shape="total"),
geom="line") +
geom_line(aes(size="total", shape = NA)) +
ggtitle(expression("Coal Combustion" ~ PM[2.5] ~ "Emissions by Source Type and Year")) +
xlab("Year") +
ylab(expression("Total" ~ PM[2.5] ~ "Emissions (tons)"))
dev.off()
png("plot4.png", width=640, height=480)
qplot(year,
Emissions,
data=Totals,
color=type,
geom="line") +
stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "black",
aes(shape="total"),
geom="line") +
geom_line(aes(size="total", shape = NA)) +
ggtitle("Total Emissions from Coal Combustion in US") +
xlab("Year") +
ylab("Total Emissions PM2.5 (10^3tons)")
dev.off()
png("plot4.png", width=640, height=480)
qplot(as.factor(year),
Emissions,
data=Totals,
color=type,
geom="line") +
stat_summary(fun.y = "sum",
fun.ymin = "sum",
fun.ymax = "sum",
color = "black",
aes(shape="total"),
geom="line") +
geom_line(aes(size="total", shape = NA)) +
ggtitle("Total Emissions PM2.5 from Coal Combustion in US") +
xlab("Year") +
ylab("Total Emissions PM2.5")
dev.off()
Totals
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot4.R', echo=TRUE)
plot(Totals)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot4.R', echo=TRUE)
Totals
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot4.R', echo=TRUE)
unique(grep("Vehicles", SCC$EI.Sector, ignore.case = TRUE, value = TRUE))
Baltimore<-NEI[NEI$fips=="24510",]
vehicles<-Baltimore[grepl("Vehicles", SCC$EI.Sector, ignore.case = TRUE),]
unique(vehicles$type)
unique(vehicles$type)
kk<-vehicles[vehicles$type=="ON-ROAD",]
Baltimore<-NEI[NEI$fips=="24510",]
#Get Data of motor vehicle
vehicles<-SCC[grepl("Vehicles", SCC$EI.Sector,
ignore.case = TRUE),]
unique(vehicles$Data.Category)
length(unique(vehicles$Data.Category))
unique(vehicles$EI.Sector)
vehicles<-SCC[grepl(["motor"|"Vehicles"], SCC$EI.Sector,
vehicles<-SCC[grepl("motor"|"Vehicles", SCC$EI.Sector,
ignore.case = TRUE),]
vehicles<-SCC[grepl("motor|Vehicles", SCC$EI.Sector,
ignore.case = TRUE),]
unique(vehicles$EI.Sector)
length(unique(vehicles$EI.Sector))
dime(vehicles)
dim(vehicles)
onroad<-Baltimore[Baltimore$type=="On-Road",]
dim(onroad)
onroad<-Baltimore[Baltimore$type=="ON-ROAD",]
dim(onroad)
unique(vehicles$Data.Category)
unique(vehicles$EI.Sector)
unique(vehicles$Data.Category)
unique(vehicles$Data.Category,vehicles$EI.Sector)
table(vehicles$Data.Category,vehicles$EI.Sector)
table(unique(vehicles$Data.Category),unique(vehicles$EI.Sector))
unique(vehicles$Data.Category)
grep("motor",vehicles,ignore.case=TRUE)
vehicles<-SCC[grepl("Vehicles", SCC$EI.Sector,
ignore.case = TRUE),]
Total<-merge (Baltimore,vehicle,by="SCC")
Total<-merge (Baltimore,vehicles,by="SCC")
unique(Total$type)
unique(Total$Data.Category)
dim(Total)
kk<-Baltimore[grepl("ON-ROAD",Baltimore$type),]
dim(kk)
vehicles$EI.Sector
unique(vehicles$EI.Sector)
unique(Total$Data.Category)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot5.R', echo=TRUE)
dev.off()
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot5.R', echo=TRUE)
Total
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot5.R', echo=TRUE)
median(Total)
average(Total)
summary(Total)
Total
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
TotalLA<-merge (LA,vehicles,by="SCC")
unique(TotalLA$type)
TotalB<-merge (Baltimore,vehicles,by="SCC")
unique(TotalB$type)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
unique(dfLA$type)
summary(TotalLA)
summary(TotalLA$Emissions)
summary(TotalB)
TotalLA
dim(TotalLA)
dim(dfLA)
KK<-LA[LA$type=="ON-ROAD",]
dim(kk)
dim(KK)
diff(KK,dfLA)
diff(KK$type,dfLA$type)
length(TotalLA$type=="POINT")
diff(KK$SCC,dfLA$SCC)
diff(as.matrix(KK$SCC,dfLA$SCC))
pp<-as.dataframe(dfLA$SCC,KK$SCC)
pp<-as.data.frame(dfLA$SCC,KK$SCC)
names(pp)
zz<-pp[dfLA$SCC!=KK$SCC,]
zz<-pp[pp$dfLA$SCC!=pp$KK$SCC,]
head(pp)
names(pp)<-c("a","b")
length(names(pp))
dim(pp)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
summary(TotalLA)
names(dfB)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
?facet_grid
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
?facet_grid
?ggplot
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
df
summary(df$Emissions)
TotalB
TotalLA
Total<-rbind(TotalB,TotalLA)
Total
names(Total)
Total<-as.data.frame(Total)
Total
Total$`1999`
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
TotalLA
TotalB
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
TotalB
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
Total
unique(dfLA$type)
summary(TotalLA$Emissions)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
dev.off()
dev.off()
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
dev.off()
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
?geom_bar
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
?geom_bar
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
?geom_bar
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
dev.off()
dev.off()
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
source('C:/Users/Isabel/gitrepos/ExData_Project2/plot6.R', echo=TRUE)
